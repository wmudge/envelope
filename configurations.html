<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Configuration specification</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Configuration specification</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_example_configuration">Example configuration</a></li>
<li><a href="#_application">Application</a></li>
<li><a href="#_steps">Steps</a>
<ul class="sectlevel2">
<li><a href="#_data_steps">Data steps</a></li>
<li><a href="#_loop_steps">Loop steps</a></li>
<li><a href="#_decision_steps">Decision steps</a></li>
<li><a href="#_task_steps">Task steps</a></li>
<li><a href="#_inputs">Inputs</a>
<ul class="sectlevel3">
<li><a href="#_filesystem">Filesystem</a></li>
<li><a href="#_hive">Hive</a></li>
<li><a href="#_jdbc">JDBC</a></li>
<li><a href="#_kafka">Kafka</a></li>
<li><a href="#_kudu">Kudu</a></li>
</ul>
</li>
<li><a href="#_translators">Translators</a>
<ul class="sectlevel3">
<li><a href="#_avro">Avro</a></li>
<li><a href="#_delimited">Delimited</a></li>
<li><a href="#_kvp">KVP</a></li>
<li><a href="#_morphline">Morphline</a></li>
<li><a href="#_protobuf">Protobuf</a></li>
</ul>
</li>
<li><a href="#_derivers">Derivers</a>
<ul class="sectlevel3">
<li><a href="#_morphline_2">Morphline</a></li>
<li><a href="#_nest">Nest</a></li>
<li><a href="#_passthrough">Passthrough</a></li>
<li><a href="#_sql">SQL</a></li>
<li><a href="#_pivot">Pivot</a></li>
<li><a href="#_exclude">Exclude</a></li>
<li><a href="#_select">Select</a></li>
<li><a href="#_data_quality">Data quality</a></li>
<li><a href="#_distinct">Distinct</a></li>
<li><a href="#_in_list">In-List</a></li>
</ul>
</li>
<li><a href="#_partitioners">Partitioners</a></li>
<li><a href="#_planners">Planners</a>
<ul class="sectlevel3">
<li><a href="#_append">Append</a></li>
<li><a href="#_bitemporal">Bitemporal</a></li>
<li><a href="#_event_time_upsert">Event time upsert</a></li>
<li><a href="#_history">History</a></li>
<li><a href="#_overwrite">Overwrite</a></li>
<li><a href="#_delete">Delete</a></li>
<li><a href="#_upsert">Upsert</a></li>
<li><a href="#_time_models">Time models</a>
<ul class="sectlevel4">
<li><a href="#_long_milliseconds">Long milliseconds</a></li>
<li><a href="#_nanoseconds_with_sequence_number">Nanoseconds with sequence number</a></li>
<li><a href="#_string_date">String date</a></li>
<li><a href="#_string_date_time">String date-time</a></li>
<li><a href="#_timestamp">Timestamp</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_outputs">Outputs</a>
<ul class="sectlevel3">
<li><a href="#_filesystem_2">Filesystem</a></li>
<li><a href="#_hive_2">Hive</a></li>
<li><a href="#_jdbc_2">JDBC</a></li>
<li><a href="#_kafka_2">Kafka</a></li>
<li><a href="#_kudu_2">Kudu</a></li>
<li><a href="#_log">Log</a></li>
<li><a href="#_hbase">HBase</a></li>
<li><a href="#_zookeeper">ZooKeeper</a></li>
</ul>
</li>
<li><a href="#_repetitions">Repetitions</a>
<ul class="sectlevel3">
<li><a href="#_scheduled">Scheduled</a></li>
<li><a href="#_flag_file">Flag file</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_validations">Validations</a></li>
<li><a href="#_user_defined_functions">User-defined functions</a></li>
<li><a href="#_data_type_support">Data Type Support</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page specifies the configurations available in Envelope.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_configuration">Example configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As illustration, a typical Envelope batch application that reads HDFS JSON files, extracts a subset of data, and writes
the results to S3 in Parquet might have the following configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>application {
  name = Envelope configuration example
  executor.instances = 3
  executor.memory = 4G
}
steps {
  exampleInput {
    input {
      type = filesystem
      path = "hdfs://..."
      format = json
    }
  }
  exampleStep {
    dependencies = [exampleInput]
    deriver {
      type = sql
      query.literal = "SELECT MY_UPPER(foo) AS foo FROM exampleInput WHERE MY_LOWER(bar) = 'blag'"
    }
    planner {
      type = append
    }
    output {
      type = filesystem
      path = "s3a://..."
      format = parquet
    }
  }
}
udfs : [
  {
    name = my_upper
    class = com...
  },
  {
    name = my_lower
    class = com...
  }
]</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_application">Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Application-level configurations have the <code>application.</code> prefix.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application name in YARN.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executor.instances</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of executors to be requested for the application. If not specified then Spark dynamic allocation will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executor.initial.instances</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initial number of executors to be requested for the application when using Spark dynamic allocation. This can help more quickly warm up the job&#8217;s resources without using a static allocation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executor.cores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of cores per executor. Default is 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executor.memory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory per executor. Default is 1G.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">batch.milliseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The length of the micro-batch in milliseconds. Default is 1000. Ignored if the application does not have a streaming input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pipeline.threads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of threads that Envelope will use to run pipeline steps. This is effectively a limit on the number of outputs that can be writing at once. Default is 20.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spark.conf.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to pass configurations directly to Spark. The <code>spark.conf.</code> prefix is removed and the configuration is set in the SparkConf object used to create the Spark context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hive.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables Hive support. Default is true. Must be enabled before reading and writing data stored in Apache Hive. Setting the value to false when Hive integration is not required avoids the associated overhead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configuration.validation.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables upfront validation of the provided Envelope configuration. Default is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">driver.memory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of memory allocated for a Spark driver. Please note that this configuration is only applicable when application is deployed in <em>cluster</em> mode, and will cause an exception if deployment mode is <em>client</em>. To set driver memory for the applications running in client mode, use Spark&#8217;s command line argument <em>--driver-memory</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security.check-interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How often the security token manager in the driver checks if tokens need refreshing. Default is "60s". Accepts any Typesafe duration string. Recommended to leave at default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security.renew-factor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At what proportion of a token&#8217;s lifetime to request a new token. Defaults to 0.8. Recommended to leave at default.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_steps">Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Step configurations have the <code>steps.[stepname].</code> prefix. All steps can have the below configurations.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The step type. Envelope supports <code>data</code>, <code>loop</code>, <code>decision</code>, <code>task</code>. Default <code>data</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of step names that Envelope will submit before submitting this step.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_data_steps">Data steps</h3>
<div class="paragraph">
<p>Data steps can, additionally to the step configurations, have the below configurations.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cache.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will cache the step’s DataFrame at the storage level specified by <code>cache.storage.level</code>. Default false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cache.storage.level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If specified then Envelope will change the step&#8217;s DataFrame cache storage levels to value specified.
Available storage levels are <code>DISK_ONLY</code> , <code>DISK_ONLY_2</code> , <code>MEMORY_ONLY</code> , <code>MEMORY_ONLY_2</code> , <code>MEMORY_ONLY_SER</code> , <code>MEMORY_ONLY_SER_2</code> , <code>MEMORY_AND_DISK</code> , <code>MEMORY_AND_DISK_2</code> , <code>MEMORY_AND_DISK_SER</code> , <code>MEMORY_AND_DISK_SER_2</code> and <code>OFF_HEAP</code>.
Default <code>MEMORY_ONLY</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hint.small</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will mark the step&#8217;s DataFrame as small enough to be used in broadcast joins. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print.schema.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will print the step&#8217;s DataFrame&#8217;s schema to the driver logs. This can be useful for debugging the schema of intermediate data. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print.data.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will print the step&#8217;s DataFrame&#8217;s data to the driver logs. This can be useful for debugging intermediate results. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">print.data.limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of records to print when <code>print.data.enabled</code> is <code>true</code>. This can be useful for avoiding overloading the driver logs with too many printed records. Default unlimited.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repartition.partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of DataFrame partitions to repartition the step data by. In Spark this will run <code>DataFrame#repartition</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repartition.columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of DataFrame columns to repartition the step data by. In Spark this will run <code>DataFrame#repartition</code>. Per standard Spark convention, this function will repartition to the number of partitions defined by the Spark SQL configuration <code>spark.sql.shuffle.partitions</code> yet can be combined with the configuration <code>repartition.partitions</code> to change this default.  The list values must identify a DataFrame column name only; no expressions are evaluated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coalesce.partitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of DataFrame partitions to coalesce the step data by.  In Spark this will run <code>DataFrame#coalesce</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_loop_steps">Loop steps</h3>
<div class="paragraph">
<p>Loop steps can, additionally to the step configurations, have the below configurations. For more information on loop steps see the <a href="looping.html">looping guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mode for Envelope to run the iterations of the loop in. If <code>parallel</code> then Envelope will run all iterations of the loop in parallel. If <code>serial</code> then Envelope will run each iteration of the loop in serial order. Note that the order of the <code>step</code> source may not be guaranteed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The parameter that Envelope will replace in strings in the configuration of the steps that are dependent on the loop step. For a parameter value <code>iteration_value</code> Envelope will replace the text <code>${iteration_value}</code> with the iteration value. If no parameter is given then Envelope will not perform parameter replacement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source of the iteration values for the loop. Envelope supports <code>range</code>, <code>list</code>, and <code>step</code>. <code>range</code> loops over an inclusive range of integers. <code>list</code> loops over an ordered list of values. <code>step</code> loops over values retrieved from the DataFrame of a previous data step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">range.start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If using the <code>range</code> source, the first integer of the range to loop over.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">range.end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If using the <code>range</code> source, the last integer of the range to loop over.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If using the <code>list</code> source, the list of values to loop over.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If using the <code>step</code> source, the name of the previous data step to retrieve the values from. The previous data step must contain only one field, and must not contain more than 1000 values.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_decision_steps">Decision steps</h3>
<div class="paragraph">
<p>Decision steps can, additionally to the step configurations, have the below configurations. For more information on decision steps see the <a href="decisions.html">decisions guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">if-true-steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The list of dependent step names that will be kept if the decision result is true. The steps listed must directly depend on the decision step. The remaining directly dependent steps of the decision step will be kept if the decision result is false. Any steps subsequently dependent on the removed steps will also be removed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The method by which the decision step will make the decision. Envelope supports <code>literal</code>, <code>step_by_key</code>, <code>step_by_value</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if <code>method</code> is <code>literal</code>. The true or false result for the decision.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if <code>method</code> is <code>step_by_key</code> or <code>step_by_value</code>. The name of the previous step from which to extract the decision result.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if <code>method</code> is <code>step_by_key</code>. The specific key of the previous step to look up the boolean result by.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_task_steps">Task steps</h3>
<div class="paragraph">
<p>Task steps can, additionally to the step configurations, have the below configurations. For more information on task steps see the <a href="tasks.html">tasks guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The alias or fully qualified class name of the <code>Task</code> implementation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_inputs">Inputs</h3>
<div class="paragraph">
<p>Input configurations belong to data steps, and have the <code>steps.[stepname].input.</code> prefix. For more information on inputs see the <a href="inputs.html">inputs guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The input type to be used. Envelope provides <code>filesystem</code>, <code>hive</code>, <code>jdbc</code>, <code>kafka</code>, <code>kudu</code>. To use a custom input, specify the fully qualified name or alias of the <code>Input</code> implementation class.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_filesystem">Filesystem</h4>
<div class="paragraph">
<p>Input <code>type</code> = <code>filesystem</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Hadoop filesystem path to read as the input. Typically a Cloudera EDH will point to HDFS by default. Use <code>s3a://</code> for Amazon S3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The file format of the files of the input directory. Envelope supports formats <code>parquet</code>, <code>json</code>, <code>csv</code>, <code>input-format</code>, <code>text</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv, json) List of StructType field names of the projected Row schema. In Spark, this will execute <code>DataFrameReader#schema</code>. For JSON, the field names must match the JSON data field names.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv, json) List of StructType field data types of the projected Row schema. In Spark, this will execute <code>DataFrameReader#schema</code>. For details, see the available options defined in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">avro-schema.literal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv, json) Inline Avro schema definition of the projected Row schema. In Spark, this will execute <code>DataFrameReader#schema</code>. For details, see the available options defined in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">avro-schema.file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv, json) A local (executor working directory) Avro schema file of the projected Row schema. In Spark, this will execute <code>DataFrameReader#schema</code>. For details, see the available options defined in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">separator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>sep</code>; sets the single character as a separator for each field and value. (default ,)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>encoding</code>; decodes the CSV files by the given encoding type. (default <code>UTF-8</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>quote</code>; sets the single character used for escaping quoted values where the separator can be part of the value. <em>If you would like to turn off quotations, you need to set not <code>null</code> but an empty string.</em> (default ")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">escape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>escape</code>; sets the single character used for escaping quotes inside an already quoted value. (default \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">comment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>comment</code>; sets the single character used for skipping lines beginning with this character. By default, it is disabled. (default empty string)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>header</code>; uses the first line as names of columns. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">infer-schema</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>inferSchema</code>; infers the input schema automatically from data. It requires one extra pass over the data. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignore-leading-ws</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>ignoreLeadingWhiteSpace</code>; defines whether or not leading whitespaces from values being read should be skipped. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignore-trailing-ws</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>ignoreTrailingWhiteSpace</code>; defines whether or not trailing whitespaces from values being read should be skipped. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null-value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>nullValue</code>; sets the string representation of a null value. This applies to all supported types including the string type. (default empty string)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nan-value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>nanValue</code>; sets the string representation of a "non-number" value. (default <code>NaN</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">positive-infinity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>positiveInf</code>; sets the string representation of a positive infinity value. (default <code>Inf</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">negative-infinity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>negativeInf</code>; sets the string representation of a negative infinity value. (default <code>-Inf</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date-format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>dateFormat</code>; sets the string that indicates a date format. Custom date formats follow the formats at <code>java.text.SimpleDateFormat</code>. This applies to <code>date</code> type. (default <code>yyyy-MM-dd</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp-format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>timestampFormat</code>; sets the string that indicates a timestamp format. Custom date formats follow the formats at <code>java.text.SimpleDateFormat</code>. This applies to <code>timestamp</code> type. (default <code>yyyy-MM-dd&#8217;T&#8217;HH:mm:ss.SSSZZ</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max-columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>maxColumns</code>; defines a hard limit of how many columns a record can have. (default <code>20480</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max-chars-per-column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>maxCharsPerColumn</code>; defines the maximum number of characters allowed for any given value being read. By default, it is <code>-1</code> meaning unlimited length. (default <code>-1</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">max-malformed-logged</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>maxMalformedLogPerPartition</code>; sets the maximum number of malformed rows Spark will log for each partition. Malformed records beyond this number will be ignored. (default <code>10</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>mode</code>; allows a mode for dealing with corrupt records during parsing.</p>
<p class="tableblock"><code>PERMISSIVE</code>: sets other fields to <code>null</code> when it meets a corrupted record. When a schema is set by user, it sets <code>null</code> for extra fields.</p>
<p class="tableblock"><code>DROPMALFORMED</code>: ignores the whole corrupted records.</p>
<p class="tableblock"><code>FAILFAST</code>: throws an exception when it meets corrupted records.</p>
<p class="tableblock">(default <code>PERMISSIVE</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format-class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(input-format) The <code>org.apache.hadoop.mapreduce.InputFormat</code> canonical class name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key-class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(input-format) The canonical class name for the InputFormat&#8217;s keys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value-class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(input-format) The canonical class name for the InputFormat&#8217;s values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">translator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(input-format, text) The Translator class to use to convert the InputFormat&#8217;s Key/Value pairs into Dataset Rows. See <a href="#_translators">Translators</a> for details. This is optional for <code>text</code>, and if it is omitted then the input will read the whole lines into a single string field named <code>value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_hive">Hive</h4>
<div class="paragraph">
<p>Input <code>type</code> = <code>hive</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Hive metastore table name (including database prefix, if required) to read as the input.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_jdbc">JDBC</h4>
<div class="paragraph">
<p>Input <code>type</code> = <code>jdbc</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The JDBC URL for the remote database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tablename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the table of the remote database to be read as the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username to use to connect to the remote database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password to use to connect to the remote database.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kafka">Kafka</h4>
<div class="paragraph">
<p>Input <code>type</code> = <code>kafka</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hosts and ports of the brokers of the Kafka cluster, in the form <code>host1:port1,host2:port2,&#8230;&#8203;,hostn:portn</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">topics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of Kafka topics to be consumed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">group.id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Kafka consumer group ID for the input. When offset management is enabled use a unique group ID for each pipeline so that Envelope can track one execution of the pipeline to the next. If not provided Envelope will use a random UUID for each pipeline execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The encoding of the messages in the Kafka topics, either <code>string</code> or <code>bytearray</code>. This must match the required encoding of the Envelope translator.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">window.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will enable Spark Streaming windowing on the input. Ignored if the step does not contain a streaming input. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">window.milliseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The duration in milliseconds of the Spark Streaming window for the input.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">window.slide.milliseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The interval in milliseconds at which the Spark Streaming window operation is performed if using sliding windows.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">offsets.manage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, Envelope will manage the Kafka offsets that have been processed so that application restarts will continue where in the topic that they left off. Default <code>true</code>.  Unless <code>offset.output</code> is set, Kafka&#8217;s internal offset commit API will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">offsets.output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>offsets.manage</code> is <code>true</code> then this output specification can be used to define external alternatives (rather than Kafka&#8217;s internal offset commit API) for where Envelope will store and retrieve the latest offsets that have been successfully processed. The output must be support random upsert mutations (e.g. Kudu, HBase).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parameter.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to pass configurations directly to Kafka. The <code>parameter.</code> prefix is removed and the configuration is set in the Kafka parameters map object used to create the Kafka direct stream.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kudu">Kudu</h4>
<div class="paragraph">
<p>Input <code>type</code> = <code>kudu</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hosts and ports of the masters of the Kudu cluster, in the form "host1:port1,host2:port2,&#8230;&#8203;,hostn:portn".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Kudu table to be read as the input.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_translators">Translators</h3>
<div class="paragraph">
<p>Translator configurations belong to data steps, and have the <code>steps.[stepname].input.translator.</code> prefix. For more information on translators, see the <a href="inputs.html#_translators">Translators section</a> of the <a href="inputs.html">Inputs Guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The translator type to be used. Envelope provides <code>avro</code>, <code>delimited</code>, <code>kvp</code>, <code>morphline</code>, <code>protobuf</code>. To use a custom translator, specify the fully qualified name or alias of the <code>Translator</code> implementation class.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_avro">Avro</h4>
<div class="paragraph">
<p>Translator <code>type</code> = <code>avro</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">schema.literal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Avro JSON read schema string for the values being translated. This configuration and <code>schema.path</code> are mutually exclusive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">schema.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the Avro JSON read schema file for the values being translated. This configuration and <code>schema.literal</code> are mutually exclusive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then the translator will append the raw input key and value as binary fields to the translated row. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input key. Default <code>_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input value. Default <code>_value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_delimited">Delimited</h4>
<div class="paragraph">
<p>Translator <code>type</code> = <code>delimited</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter that separates the fields of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter-regex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the <code>delimiter</code> string will be interpreted as a regular expression. Default <code>false</code> (interpret as a literal value).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of fields to read from the delimited record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of data types of the fields in the same order as the list of field names. Supported types are detailed in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp.formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional list of timestamp format patterns. For timestamp field type, one or more patterns may be supplied in <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html">Joda timestamp format</a>. If this configuration is supplied, timestamp format must confirm to one of these pattens to be considered validity. For performance sensitive processing, list patterns in order of probability of occurrence. If this configuration is not supplied, timestamp data must confirm to <a href="http://joda-time.sourceforge.net/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime()">ISO 8601 date, time or datetime format</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then the translator will append the raw input key and value as binary fields to the translated row. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input key. Default <code>_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input value. Default <code>_value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kvp">KVP</h4>
<div class="paragraph">
<p>Translator <code>type</code> = <code>kvp</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter.kvp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter that separates the key-value pairs of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter.field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter that separates the the key and value of each key-value pair.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of key names that will be found in the messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of data types of the fields in the same order as the list of field names. Supported types are detailed in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp.formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional list of timestamp format patterns. For timestamp field type, one or more patterns may be supplied in <a href="https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html">Joda timestamp format</a>. If this configuration is supplied, timestamp format must confirm to one of these pattens to be considered validity. For performance sensitive processing, list patterns in order of probability of occurrence. If this configuration is not supplied, timestamp data must confirm to <a href="http://joda-time.sourceforge.net/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime()">ISO 8601 date, time or datetime format</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then the translator will append the raw input key and value as binary fields to the translated row. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input key. Default <code>_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input value. Default <code>_value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_morphline">Morphline</h4>
<div class="paragraph">
<p>Translator <code>type</code> = <code>morphline</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">encoding.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The character set of the incoming key and is stored in the Record field, <code>_attachment_key_charset</code>. This must match the encoding of the Envelope input. The key value is stored in the field, <code>_attachment_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">encoding.message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The character set of the incoming message and is stored in the Record field, <code>_attachment_charset</code>. This must match the encoding of the Envelope input. The message value is stored in the field, <code>_attachment</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">morphline.file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The filename of the Morphline configuration found in the local directory of the executor. See the <code>--files</code> option for <code>spark-submit</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">morphline.id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional identifier of the Morphline pipeline within the configuration file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the Record used to construct the output DataFrame, i.e. its StructType, and populate the Rows from the Record values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of data types of the fields in the same order as the list of field names. Supported types are detailed in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then the translator will append the raw input key and value as binary fields to the translated row. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input key. Default <code>_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input value. Default <code>_value</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error.on.empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then all input rows must map to an output row, otherwise an error will be thrown. Default <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>rawstring</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This translator has no custom configurations</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>rawbinary</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This translator has no custom configurations</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_protobuf">Protobuf</h4>
<div class="paragraph">
<p>Translator <code>type</code> = <code>protobuf</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">descriptor.filepath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Protobuf <code>Descriptor</code> file. The file is built with the <code>protoc</code> compiler. This binary schema file must be referencable from the Spark workspace, typically by including it with the <code>--files</code> option.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">descriptor.message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional <code>Message</code> name of the root Protobuf object in the <code>Descriptor</code>. Only one top-level <code>Message</code> may be deserialized per Translator, even though the Descriptor may contain multiple top-level <code>Messages</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then the translator will append the raw input key and value as binary fields to the translated row. Default <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input key. Default <code>_key</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">append.raw.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the appended field that contains the raw input value. Default <code>_value</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_derivers">Derivers</h3>
<div class="paragraph">
<p>Deriver configurations belong to data steps, and have the <code>steps.[stepname].deriver.</code> prefix. For more information on derivers see the <a href="derivers.html">derivers guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The deriver type to be used. Envelope provides <code>morphline</code>, <code>nest</code>, <code>passthrough</code>, <code>sql</code>, <code>pivot</code>, <code>exclude</code>, <code>distinct</code>, <code>select</code>, <code>in-list</code> and <code>dq</code>. To use a custom deriver, specify the fully qualified name or alias of the <code>Deriver</code> implementation class.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_morphline_2">Morphline</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>morphline</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dependency step whose records will be run through the Morphline pipeline.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">morphline.file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The filename of the Morphline configuration found in the local directory of the executor. See the <code>--files</code> option for <code>spark-submit</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">morphline.id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional identifier of the Morphline pipeline within the configuration file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the Record used to construct the output DataFrame, i.e. its StructType, and populate the Rows from the Record values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of data types of the fields in the same order as the list of field names. Supported types are detailed in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_nest">Nest</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>nest</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nest.into</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the step whose records will be appended with the nesting of <code>nest.from</code>. Must be a dependency of the encapsulating step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nest.from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the step whose records will be nested into <code>nest.into</code>. Must be a dependency of the encapsulating step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key.field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that make up the common key of the two steps. This key will be used to determine which <code>nest.from</code> records will be nested into each <code>nest.into</code> record. There should only be one record in <code>nest.into</code> for each unique key of <code>nest.from</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nested.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name to be given to the appended field that contains the nested records.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_passthrough">Passthrough</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>passthrough</code>.</p>
</div>
<div class="paragraph">
<p><em>This deriver has no custom configurations</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sql">SQL</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>sql</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">query.literal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The literal query to be submitted to Spark SQL. Previously submitted steps can be referenced as tables by their step name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">query.file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to the file containing the query to be submitted to Spark SQL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parameter.parameter_name (or any parameter.*)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All references to '${parameter_name}' within the query string will be replaced with the value of this configuration. For more information see the <a href="derivers.html">derivers guide</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_pivot">Pivot</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>pivot</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dependency step that will be pivoted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">entity.key.field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that represents the entity key to group on. The derived DataFrame will contain one record per distinct entity key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pivot.key.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name of the key to pivot on. It is expected that there will only be one of each pivot key per entity key. The derived DataFrame will contain one additional column per distinct pivot key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pivot.value.field.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name of the value to be pivoted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pivot.keys.source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source of the keys to pivot into additional columns. If <code>static</code> then <code>pivot.keys.list</code> provides the list of keys. If <code>dynamic</code> then the list of keys is determined dynamically from the step, at the cost of additional computation time. Default is  <code>dynamic</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pivot.keys.list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of keys to pivot into additional columns. Only used if <code>pivot.keys.source</code> is set to <code>static</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_exclude">Exclude</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>exclude</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dataset whose records will be compared and if matched, then excluded from the output of the current step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">with</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dataset whose records will supply the matching patterns for the comparison. The records are not modified; this step only queries the dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the fields used to match between the two datasets. The field names must be identical in name and type. A row is excluded if all of the fields are equal between the datasets.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_select">Select</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>select</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dependency step from which to select columns as output of the current step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">include-fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of column names that are required in output for the current step. If input dataset schema doesn&#8217;t contain column name(s) then deriver will generate a runtime error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exclude-fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of column names that are not required in output for the current step. If input dataset schema doesn&#8217;t contain column name(s) then deriver will generate a runtime error. Both include-fields and exclude-fields cannot be provided at same time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_data_quality">Data quality</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>dq</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The scope at which to apply the DQ deriver. <code>dataset</code> or <code>row</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. A nested object of rules. Each defined object should contain a field <code>type</code>, which defines the type of the DQ rule, either a built-in or a fully-qualified classname. Type specific configs are listed below.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>checknulls</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The list of fields to check. The contents should be a list of strings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>enum</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. String list of field names.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fieldtype</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Type of the field to check for defined values: must be <code>string</code>, <code>long</code>, <code>int</code>, or <code>decimal</code>. Defaults to <code>string</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. List of values. For strings and decimals define the values using string literals. For integral types use number literals.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">case-sensitive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. For string values, whether the value matches should be case-sensitive. Defaults to true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>range</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. List of field names on which to apply the range checks.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fieldtype</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The field type to use when doing range checks. Range values will be interpreted as this type. Must be numeric: allowed values are
<code>int</code>, <code>long</code>, <code>double</code>, <code>float</code>, <code>decimal</code>. Take care when using floating point values as exact boundary matches may not behave as expected - use
<code>decimal</code> if exact boundaries are required. Defaults to <code>long</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Two element list of numeric literals, e.g. <code>[1,10]</code> or <code>[1.5,10.45]</code>. Both boundaries are inclusive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignore-nulls</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. If <code>true</code> then range check will pass for a null value, or if <code>false</code> will fail. Defaults to <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>regex</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. String list of field names, which should all have type <code>string</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Regular expression with which to match field values. Note that extra escape parameters are not required. For example to match any number up to 999 you could use: <code>\d{1,3}</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>count</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expected.literal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Either this or <code>expected.dependency</code> required. A <code>long</code> literal with the expected number of rows in the dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expected.dependency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Either this or <code>expected.literal</code> required. A string indicating the dependency in which the expected
count is defined. It must be a dataframe with a single field of type <code>long</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>checkschema</em></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. A list of fields and types that are required to be in the dataset. List elements should be objects with
two fields: <code>name</code> and <code>type</code>. Valid types are: <code>string</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>decimal</code>,
<code>boolean</code>, <code>binary</code>, <code>date</code>, <code>timestamp</code>. For <code>decimal</code>, two additional int fields are required: <code>scale</code> and <code>precision</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exactmatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Whether the schema of the Rows must exactly match the specified schema. If false the actual row can contain
other fields not specified in the <code>fields</code> configuration. Those that are specified must match both name and type. Defaults
to false.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_distinct">Distinct</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>distinct</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dataset whose records will be deduplicated. Only required if there is more than one dependency, otherwise optional.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_in_list">In-List</h4>
<div class="paragraph">
<p>Deriver <code>type</code> = <code>in-list</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the dataset whose records will be filtered based on the suppled list of values. Only required if there is more than one dependency, otherwise optional. If provided, must be present in the list of dependencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the field in dataset&#8217;s schema whose values will be compared with the suppled list of values. Only required if dataset schema contains more than one field, otherwise optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of values that will be used as a filter against designated <code>field</code> 's content. Required unless the list is going to be derived via reference (see below).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">values-step</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Step whose records will be used to generate a set of values to filter records against. Can only be specified when literal list (<code>values</code>) is not provided. If specified, the name must be present in the <code>dependencies</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">values-field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the field in <code>values-step</code> 's schema whose values will be used to populate the filter. Only required if <code>values-step</code> is specified, and its schema has more than one field.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_partitioners">Partitioners</h3>
<div class="paragraph">
<p>Partitioner configurations belong to data steps, and have the <code>steps.[stepname].partitioner.</code> prefix.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The partitioner type to be used. Envelope provides <code>range</code>, <code>hash</code>, <code>uuid</code>. To use a custom partitioner, specify the fully qualified name or alias of the <code>ConfigurablePartitioner</code> implementation class. If no partitioner type is specified, Envelope will use the <code>range</code> partitioner.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_planners">Planners</h3>
<div class="paragraph">
<p>Planner configurations belong to data steps, and have the <code>steps.[stepname].planner.</code> prefix. For more information on planners see the <a href="planners.html">planners guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The planner type to be used. Envelope provides <code>append</code>, <code>bitemporal</code>, <code>delete</code>, <code>eventtimeupsert</code>, <code>history</code>, <code>overwrite</code>, <code>upsert</code>. To use a custom planner, specify the fully qualified name or alias of the <code>Planner</code> implementation class.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_append">Append</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>append</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that make up the natural key of the record. Only required if <code>uuid.key.enabled</code> is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name for the last updated attribute. If specified then Envelope will add this field and populate it with the system timestamp string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uuid.key.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will overwrite the first key field with a UUID string.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_bitemporal">Bitemporal</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>bitemporal</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that make up the natural key of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that are used to determine if an arriving record is different to an existing record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event time of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.event.time.effective.from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event-time effective-from timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.event.time.effective.to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event-time effective-to timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.system.time.effective.from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the system-time effective-from timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.system.time.effective.to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the system-time effective-to timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.current.flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name of the current flag attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current.flag.value.yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The flag indicating current record. Overrides the default value (Y).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current.flag.value.no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The flag indicating non-current record. Overrides the default value (N).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">carry.forward.when.null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will overwrite null values of the arriving record with the corresponding values of the most recent existing record for the same key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for interpreting the event time of the arriving and existing records, and for generating the event time effective from/to values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for interpreting the system time of the existing records, and for generating the system time effective from/to values.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_event_time_upsert">Event time upsert</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>eventtimeupsert</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that make up the natural key of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name for the last updated attribute. If specified then Envelope will add this field and populate it with the system timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event time of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that are used to determine if an arriving record is different to an existing record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for interpreting the event time of the arriving and existing records.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for generating the last updated values.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_history">History</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>history</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that make up the natural key of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that are used to determine if an arriving record is different to an existing record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event time of the record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.effective.from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event-time effective-from timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.effective.to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names of the event-time effective-to timestamp attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.current.flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name of the current flag attribute on the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current.flag.value.yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The flag indicating current record. Overrides the default value (Y).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">current.flag.value.no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The flag indicating non-current record. Overrides the default value (N).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names for the last updated attribute. If specified then Envelope will add this field and populate it with the system timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">carry.forward.when.null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will overwrite null values of the arriving record with the corresponding values of the most recent existing record for the same key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for interpreting the event time of the arriving and existing records, and for generating the effective from/to values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time.model.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time model for generating the last updated values.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_overwrite">Overwrite</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>overwrite</code>.</p>
</div>
<div class="paragraph">
<p><em>This deriver has no custom configurations</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_delete">Delete</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>delete</code>.</p>
</div>
<div class="paragraph">
<p><em>This deriver has no custom configurations</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_upsert">Upsert</h4>
<div class="paragraph">
<p>Planner <code>type</code> = <code>upsert</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.last.updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The field name for the last updated attribute. If specified then Envelope will add this field and populate it with the system timestamp string.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_time_models">Time models</h4>
<div class="paragraph">
<p>Time model configurations belong to planners, and have the <code>steps.[stepname].planner.time.model.[timename]</code> prefix. For more information on time models see the <a href="planners.html#handling_time">planners guide</a>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The time model type to be used. Envelope provides <code>longmillis</code>, <code>nanoswithseqnum</code>, <code>stringdate</code>, <code>stringdatetime</code>, <code>timestamp</code>. To use a custom output, specify the fully qualified name or alias of the <code>TimeModel</code> implementation class.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_long_milliseconds">Long milliseconds</h5>
<div class="paragraph">
<p>Time model <code>type</code> = <code>longmillis</code>.</p>
</div>
<div class="paragraph">
<p><em>This time model has no custom configurations</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_nanoseconds_with_sequence_number">Nanoseconds with sequence number</h5>
<div class="paragraph">
<p>Time model <code>type</code> = <code>nanoswithseqnum</code>.</p>
</div>
<div class="paragraph">
<p><em>This time model has no custom configurations</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_string_date">String date</h5>
<div class="paragraph">
<p>Time model <code>type</code> = <code>stringdate</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <a href="http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">Java SimpleDateFormat</a> format of the date values. Default "yyyy-MM-dd".</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_string_date_time">String date-time</h5>
<div class="paragraph">
<p>Time model <code>type</code> = <code>stringdatetime</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <a href="http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">Java SimpleDateFormat</a> format of the date-time values. Default "yyyy-MM-dd HH:mm:ss.SSS".</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_timestamp">Timestamp</h5>
<div class="paragraph">
<p>Time model <code>type</code> = <code>timestamp</code>.</p>
</div>
<div class="paragraph">
<p><em>This time model has no custom configurations</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_outputs">Outputs</h3>
<div class="paragraph">
<p>Output configurations belong to data steps, and have the <code>steps.[stepname].output.</code> prefix.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The output type to be used. Envelope provides <code>filesystem</code>, <code>hive</code>, <code>jdbc</code>, <code>kafka</code>, <code>kudu</code>, <code>log</code>, <code>hbase</code>, <code>zookeeper</code>. To use a custom output, specify the fully qualified name or alias of the <code>Output</code> implementation class.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_filesystem_2">Filesystem</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>filesystem</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Hadoop filesystem path to write as the output. Typically a Cloudera EDH will point to HDFS by default. Use <code>s3a://</code> for Amazon S3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The file format for the files of the output directory. Envelope supports formats <code>parquet</code>, <code>csv</code> and <code>json</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">partition.by</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of columns to partition the write output. Optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">separator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>sep</code>; sets the single character as a separator for each field and value. (default ,)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>quote</code>; sets the single character used for escaping quoted values where the separator can be part of the value. (default ")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">escape</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>escape</code>; sets the single character used for escaping quotes inside an already quoted value. (default \)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">escape-quotes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>escapeQuotes</code>; a flag indicating whether values containing quotes should always be enclosed in quotes. Default is to escape all values containing a quote character. (default <code>true</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quote-all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>quoteAll</code>; a flag indicating whether all values should always be enclosed in quotes. Default is to only escape values containing a quote character. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">header</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>header</code>; writes the names of columns as the first line. (default <code>false</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null-value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>nullValue</code>; sets the string representation of a null value. (default empty string)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>compression</code>; compression codec to use when saving to file. This can be one of the known case-insensitive shorten names (<code>none</code>, <code>bzip2</code>, <code>gzip</code>, <code>lz4</code>, <code>snappy</code>, and <code>deflate</code>). (default <code>null</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date-format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>dateFormat</code>; sets the string that indicates a date format. Custom date formats follow the formats at <code>java.text.SimpleDateFormat</code>. This applies to <code>date</code> type. (default <code>yyyy-MM-dd</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp-format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(csv) Spark option <code>timestampFormat</code>; sets the string that indicates a timestamp format. Custom date formats follow the formats at <code>java.text.SimpleDateFormat</code>. This applies to <code>timestamp</code> type. (default <code>yyyy-MM-dd&#8217;T&#8217;HH:mm:ss.SSSZZ</code>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_hive_2">Hive</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>hive</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Hive table targeted for write. The name can include the database prefix, e.g. <code>example.SampleTableName</code>. If the table does not exist, Envelope will create a Parquet-formatted table. If the table has been created outside of Envelope, the format is determined and managed by Hive itself, i.e. any Hive SerDe.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The HDFS location for the underlying files of a table. Typically only defined during table creation, during which the table is created as <code>EXTERNAL</code>, otherwise the table is created in the default Hive warehouse and set to <code>MANAGED</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">partition.by</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The list of Hive table partition names to dynamically partition the write by.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">align.columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code> then Envelope will attempt to align the output schema by matching (case-insensitive, unless <code>spark.sql.caseSensitive</code> is set) the step&#8217;s column names with those of the target Hive table.  Step columns without a match in the target table will not be included in the aligned output, and similarly, target Hive table columns not available in the step schema will be NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to pass additional configuration parameters. The parameters are set as a Map object and passed directly to the Spark DataFrameWriter.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_jdbc_2">JDBC</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>jdbc</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The JDBC URL for the remote database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tablename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the table of the remote database to write as the output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username to use to connect to the remote database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password to use to connect to the remote database.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kafka_2">Kafka</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>kafka</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">brokers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The hosts and ports of the brokers of the Kafka cluster, in the form <code>host1:port1,host2:port2,&#8230;&#8203;,hostn:portn</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">topic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The Kafka topic to write to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serializer.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The type of serialization to use for writing the row in to the topic. Valid types are <code>delimited</code> and <code>avro</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serializer.field.delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if <code>serializer.type</code> is <code>delimited</code>. The delimiter string to separate the field values with.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serializer.use.for.null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used if <code>serializer.type</code> is <code>delimited</code>. The string to use if a field value is null. Defaults to the empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serializer.schema.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required if <code>serializer.type</code> is <code>avro</code>. The path to the Avro schema file for serializing the rows, e.g. <code>hdfs:/your/path/to/schema.avsc</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">parameter.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to pass configurations directly to the Kafka client. The <code>parameter.</code> prefix is removed and the configuration is set in the Kafka parameters map object used to create the KafkaProducer.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_kudu_2">Kudu</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>kudu</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The hosts and ports of the masters of the Kudu cluster, in the form "host1:port1,host2:port2,&#8230;&#8203;,hostn:portn".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Kudu table to write to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">insert.ignore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore duplicate rows in Kudu (default: false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignore.missing.columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore writing columns that do not exist in the Kudu schema (default: false)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the target Kudu cluster secured by Kerberos? This must be set to <code>true</code> for automatic token management to take effect, which is a requirement for random output planners. (default: <code>true</code> if <code>hadoop.security.authentication</code> is <code>kerberos</code>, <code>false</code> otherwise).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_log">Log</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>log</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The delimiter string to separate the field values with. Default is <code>,</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The log4j level for the written logs. Default is <code>INFO</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_hbase">HBase</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>hbase</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The table for the output, specified in the format <code>[namespace:]name</code>, e.g. <code>envelopetest:test</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">zookeeper</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. In non-secure setups it is not a strict requirement to supply an hbase-site.xml file on the classpath,
so the ZooKeeper quorum can be specified with this property with the usual HBase configuration syntax. Note that
this will supersede any quorum specified in any hbase-site.xml file on the classpath.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hbase.conf.*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Pass-through options to set on the HBase connection. The <code>hbase.conf</code> prefix will be stripped. For example:</p>
<p class="tableblock">&#8230;&#8203;.
hbase {
  conf {
    hbase.client.retries.number = 5
    hbase.client.operation.timeout = 30000
  }
}
&#8230;&#8203;.</p>
<p class="tableblock">Note that non-String parameters are automatically cast to Strings, but the underlying HBase code will do any
required conversions from String.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping.serde</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The fully qualified class name of the implementation to use when converting Spark <code>Row</code> objects into HBase <code>Put</code> s and <code>Get</code> s and
converting HBase <code>Result</code> s into <code>Row</code> s. Defaults to <code>default</code>, which is maps to <code>com.cloudera.labs.envelope.utils.hbase.HBase.DefaultMappingSerde</code>.
The default serde configuration syntax adheres as closely as possible to that of the
Spark-HBase DataSource at the expense of some additional functionality - this is with a view to
moving to the HBaseRelation at some point in the future.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping.rowkey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for <code>default</code> serde. The ordered list columns which comprise the HBase row key. These are expected to be separated by <code>rowkey.separator</code> in HBase, e.g. <code>["symbol", "transacttime"]</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping.rowkey.separator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The separator to use when constructing the row key. This is interpreted as a Unicode string
so for binary separators use the <code>\uXXXX</code> syntax. Defaults to &#8220;:&#8221;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping.columns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for <code>default</code> serde. A map of column definitions specifying how to map Row fields into HBase columns. Each
column requires three attributes: the column family <code>cf</code>, the column qualifier <code>col</code> and
the column type <code>type</code>. The columns which comprise the row key are denoted with <code>cf = rowkey</code>.
Supported types are int, long, boolean, float, double and string. For example:</p>
<p class="tableblock">&#8230;&#8203;.
mapping.columns {
  symbol {
    cf = "rowkey"
    col = "symbol"
    type = "string"
  }
  transacttime {
    cf = "rowkey"
    col = "transacttime"
    type = "long"
  }
  clordid {
    cf = "cf1"
    col = "clordid"
    type = "string"
  }
  orderqty {
    cf = "cf1"
    col = "orderqty"
    type = "int"
  }
}
&#8230;&#8203;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">batch.size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. An integer value with default 1000. The number of mutations to accumulate before making an HBase RPC call. For larger
cell sizes you may want to reduce this number or increase the relevant client buffers.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_zookeeper">ZooKeeper</h4>
<div class="paragraph">
<p>Output <code>type</code> = <code>zookeeper</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ZooKeeper quorum to connect to, in the format <code>host1:port1,&#8230;&#8203;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names for the schema of this output.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">field.types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field types for the schema of this output, in the same order as <code>field.names</code>. For details, see the available options defined in <a href="#_data_type_support">Data Type Support</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">key.field.names</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The list of field names that constitute the unique key of the output. Must be a subset of <code>field.names</code>. Must always be provided in the same order across pipeline executions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">znode.prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The znode path prefix that the data will be stored under. Used to isolate the use of the output from other uses of the output, and from non-Envelope paths in ZooKeeper. Default <code>/envelope</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">session.timeout.millis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The client session timeout in milliseconds. Default <code>1000</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection.timeout.millis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The client connection timeout in milliseconds. Default <code>10000</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_repetitions">Repetitions</h3>
<div class="paragraph">
<p>For more information on repetitions see the <a href="repetitions.html">repetitions guide</a>.</p>
</div>
<div class="paragraph">
<p>The general configuration parameters for repetitions are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Required. The repetition type to be used. Envelope provides <code>scheduled</code> and <code>flagfile</code>. To use a custom repetition, specify the fully qualified name of the class (or alias) implementing the <code>Repetition</code> interface.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">min-repeat-interval</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Optional. To prevent steps being reloaded too frequently, this represents the minimum interval between repetitions. The value is interpreted as a
Typesafe Config duration, e.g. <code>60s</code>. <code>5m</code>, <code>1d</code> or, without suffix, as raw milliseconds, e.g. <code>3600000</code>. Defaults to 60s.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_scheduled">Scheduled</h4>
<div class="paragraph">
<p>Repetition <code>type</code> = <code>scheduled</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">every</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The interval between repetitions. The value is interpreted as a
Typesafe Config duration, e.g. <code>60s</code>. <code>5m</code>, <code>1d</code> or, without suffix, as raw milliseconds, e.g. <code>3600000</code>. No default.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_flag_file">Flag file</h4>
<div class="paragraph">
<p>Repetition <code>type</code> = <code>flagfile</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. The path to the flag file. Accepts a fully qualified URI (recommended). If not qualified with a filesystem scheme,
the default filesystem implementation will be used (usually HDFS).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trigger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. The mode of the trigger functionality. Can either be <code>present</code> or <code>modified</code>. With <code>present</code>, as soon as the file
is detected a repetition is triggered and the flag file is deleted. In <code>modified</code> mode, the file is checked for presence
or a modification time greater than the last time the step was loaded. The file is not deleted in <code>modified</code> mode. Defaults
to <code>present</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">poll-interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. How often the flag file will be checked. The value is interpreted as a
Typesafe Config duration, e.g. <code>60s</code>. <code>5m</code>, <code>1d</code> or, without suffix, as raw milliseconds, e.g. <code>3600000</code>.Defaults to 10s.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fail-after</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To prevent intermittent failures to contact the filesystem from killing the job, the repetition will only raise an exception
after this many consecutive failures. Defaults to 10.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validations">Validations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Envelope automatically validates the pipeline configuration before starting execution. This feature can be disabled by setting <code>configuration.validation.enabled = false</code> either at the top-level for the whole pipeline, or within any scope that would be validated.</p>
</div>
<div class="paragraph">
<p>The configurations of a custom Envelope plugin (e.g. a custom deriver) can also be validated by implementing the <code>ProvidesValidations</code> interface. In the less common case that the plugin has its own plugins (similarly to how the data quality deriver has pluggable rules) then the higher-level plugin can implement the <code>InstantiatesComponents</code> interface to provide its own plugins to Envelope for configuration validation. For both of these interfaces see the Envelope code for various examples of their implementations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_user_defined_functions">User-defined functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spark SQL user-defined functions (UDFs) are provided with a list of UDF specifications under <code>udfs</code>, where each specification has the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Configuration suffix</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the UDF that will be used in SQL queries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The fully qualified class name of the UDF implementation.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_data_type_support">Data Type Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Envelope supports the following Spark data types when defining a StructType schema inline (commonly via the <code>field.types</code> parameter):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>string</code></p>
</li>
<li>
<p><code>byte</code></p>
</li>
<li>
<p><code>short</code></p>
</li>
<li>
<p><code>int</code></p>
</li>
<li>
<p><code>long</code></p>
</li>
<li>
<p><code>float</code></p>
</li>
<li>
<p><code>double</code></p>
</li>
<li>
<p><code>boolean</code></p>
</li>
<li>
<p><code>binary</code></p>
</li>
<li>
<p><code>timestamp</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using an Avro schema to define the StructType, either via an inline Avro literal or a supporting Avro file, the following Spark data types are supported:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Avro to StructType</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Avro Type</th>
<th class="tableblock halign-left valign-top">Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StructType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map (note: keys must be Strings)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">union</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StructType (each column representing the union elements, named <code>memberN</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bytes, fixed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">string, enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date (LogicalType, as <code>long</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp-millis (LogicalType, as <code>long</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decimal (LogicalType, as <code>bytes</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decimal</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-10-12 18:12:43 EDT
</div>
</div>
</body>
</html>